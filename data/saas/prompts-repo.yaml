# ã‚µãƒ–å¾“æ¥­å“¡
- id: prompts-repo
  category: 5
  category_name: å¾“æ¥­å“¡
  title: å¾“æ¥­å“¡
  content: ""
  markdown_file: static/data/prompts/create-new-page.v2.md
  markdown_files:
    - static/data/prompts/media-assets-guidelines.md
    - static/data/prompts/requirements-docs-agent.md
    - static/data/prompts/hiring-agent.md
  custom_html: |
    <style>
      .prompt-md { background: var(--card); border: 1px solid var(--border); border-radius: 12px; padding: 18px; }
      .prompt-md pre, .prompt-md code { background: var(--code-bg); border: 1px solid var(--code-border); }
      /* ã‚«ãƒ¼ãƒ‰åˆ‡æ›¿UI */
      .prompt-cards-wrap { margin-bottom: 16px; }
      .prompt-viewer { background: var(--card); border: 1px solid var(--border); border-radius: 12px; padding: 18px; }
      .card-grid .card.active { border-color: var(--link); box-shadow: 0 0 0 1px color-mix(in srgb, var(--link) 30%, transparent); }
      .card .card-desc { color: var(--text-weak); font-size: .9rem; margin-top: 4px; }
      /* ãƒ€ãƒ¼ã‚¯ãƒ†ãƒ¼ãƒã§èª­ã‚ã‚‹ã‚ˆã†å¼·åˆ¶ã‚«ãƒ©ãƒ¼ */
      .prompt-cards-wrap .card { background: var(--card); color: var(--text); border: 1px solid var(--border); }
      .prompt-cards-wrap .card-title { color: var(--text); font-weight: 800; }
      .prompt-cards-wrap .card:hover { border-color: var(--link); }
      .prompt-cards-wrap .card-img, .prompt-cards-wrap .card-video { width: 100%; height: auto; display: block; margin-top: 8px; border-radius: 8px; background: var(--media-bg); border: 1px solid var(--border); }
      .prompt-cards-wrap .card-name { position: absolute; right: 10px; bottom: 10px; padding: 4px 8px; border-radius: 999px; font-size: 12px; font-weight: 700; background: rgba(17, 24, 39, .7); color: #e5e7eb; border: 1px solid rgba(148, 163, 184, .4); }
      .prompt-cards-wrap .card { position: relative; }
    </style>
    <div class="prompt-cards-wrap">
      <style>
        .team-dash { display: grid; grid-template-columns: repeat(auto-fit, minmax(260px,1fr)); gap: 12px; margin-bottom: 14px; }
        .task-card { background: var(--card); border:1px solid var(--border); border-radius:12px; padding:12px; }
        .task-card h4 { margin: 0 0 8px; font-size: 0.98rem; }
        .task { display:flex; align-items:center; gap:8px; padding:6px 8px; border-radius:8px; margin:4px 0; background: var(--sidebar-bg); border: 1px solid var(--border); }
        .task .status { width:18px; height:18px; display:inline-flex; align-items:center; justify-content:center; border-radius:4px; border:1px solid var(--border); font-size:12px; }
        .task.done .status { background:#10b98133; border-color:#10b98166; color:#10b981; }
        .task.doing .status { background:#f59e0b22; border-color:#f59e0b66; color:#f59e0b; }
        .task.todo .status { background:transparent; color:var(--text-weak); }
        .task .name { flex:1; color:var(--text); }
        .task small { color:var(--text-weak); }
      </style>
    <div class="card-grid" id="promptCardGrid"></div>
      <div class="team-dash" id="teamDash"></div>
    </div>
    <div class="prompt-viewer" id="promptDocViewer"></div>
    <script>
      (function(){
        const sec = document.getElementById('prompts-repo');
        const grid = sec.querySelector('#promptCardGrid');
        const teamDash = sec.querySelector('#teamDash');
        const viewer = sec.querySelector('#promptDocViewer');
        if (!grid || !viewer) return;
        // ç°¡æ˜“ãƒãƒ¼ãƒ ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ï¼ˆã‚«ãƒ¼ãƒ‰ã®ä¸‹ã«è¡¨ç¤ºï¼‰
        if (teamDash) {
          const team = [
            { name: 'ã‚¿ã‚¯ãƒŸ', role: 'ãƒ†ãƒ³ãƒ—ãƒ¬/JS', tasks: [
              { title: 'TOC æŠ˜ã‚ŠãŸãŸã¿å®Ÿè£…', status: 'done' },
              { title: 'ã‚«ãƒ¼ãƒ‰4æšåŒ–', status: 'done' },
              { title: 'ç›´ãƒªãƒ³ã‚¯æ™‚ã®åˆæœŸåŒ–', status: 'doing' }
            ]},
            { name: 'ãƒŸãƒŠ', role: 'ã‚¢ã‚»ãƒƒãƒˆ/å‹•ç”»', tasks: [
              { title: 'ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆå‹•ç”»å·®æ›¿', status: 'done' },
              { title: 'SNSã‚«ãƒ¼ãƒ‰ç´ æ', status: 'todo' },
              { title: 'OGç”»åƒæ›´æ–°', status: 'todo' }
            ]},
            { name: 'ã‚µãƒ©', role: 'æ¡ç”¨æ‹…å½“', tasks: [
              { title: 'æ±‚äººç¥¨ãƒ†ãƒ³ãƒ—ãƒ¬æ•´å‚™', status: 'doing' },
              { title: 'é¢è«‡ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«é‹ç”¨', status: 'todo' },
              { title: 'å€™è£œè€…DB/åŒæ„ç®¡ç†', status: 'todo' }
            ]},
            { name: 'ã‚¨ãƒŸãƒªãƒ¼', role: 'è¦ä»¶å®šç¾©åŸ·ç­†', tasks: [
              { title: 'ãƒã‚³ã‚«ãƒ•ã‚§è¦ä»¶æ›¸ ç« ç«‹ã¦', status: 'done' },
              { title: 'KAMUI OS NPM è¦ä»¶æ›¸ è¿½è¨˜', status: 'doing' },
              { title: 'SNSãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ KPIè¡¨', status: 'todo' }
            ]}
          ];
          const icon = (s)=> s==='done'?'âœ…':(s==='doing'?'ğŸŸ§':'â¬œï¸');
          team.forEach(member => {
            const box = document.createElement('div');
            box.className = 'task-card';
            box.innerHTML = `<h4>${member.name} <small style="color:var(--text-weak);">${member.role}</small></h4>`;
            member.tasks.forEach(t => {
              const row = document.createElement('div');
              row.className = `task ${t.status}`;
              row.innerHTML = `<span class="status">${icon(t.status)}</span><div class="name">${t.title}</div>`;
              box.appendChild(row);
            });
            teamDash.appendChild(box);
          });
        }
        const docs = Array.from(sec.querySelectorAll('.markdown-body'));
        if (!docs.length) return;
        let items = docs.map((el, i) => {
          const title = (el.querySelector('h1,h2')?.textContent || `ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ ${i+1}`).trim();
          const id = `prompt-doc-${i}`;
          const path = el.getAttribute('data-path') || '';
          el.dataset.docId = id;
          return { id, title, path, el };
        });
        // ä¸¦ã³é †: æ‹“æµ·, ãƒŸãƒŠ, æ¡ç”¨æ‹…å½“, ã‚¨ãƒŸãƒªãƒ¼ï¼ˆã‚¨ãƒŸãƒªãƒ¼ã‚’å³ç«¯ã«ï¼‰
        const order = ['create-new-page.v2.md','media-assets-guidelines.md','hiring-agent.md','requirements-docs-agent.md'];
        items.sort((a,b)=>{
          const aIdx = order.findIndex(k => (a.path||'').endsWith(k));
          const bIdx = order.findIndex(k => (b.path||'').endsWith(k));
          return (aIdx<0?99:aIdx) - (bIdx<0?99:bIdx);
        });
        // ã‚¿ã‚¤ãƒˆãƒ«è£œæ­£ï¼ˆh1/h2 ãŒè¦‹ã¤ã‹ã‚‰ãªã„å ´åˆã®ä¿é™ºï¼‰
        const nameMap = new Map([
          ['create-new-page.v2.md','æ–°è¦ãƒšãƒ¼ã‚¸è¿½åŠ ï¼ˆå¤–éƒ¨YAMLåŸºæº–ï¼‰'],
          ['media-assets-guidelines.md','ç”»åƒ/å‹•ç”»ã‚¢ã‚»ãƒƒãƒˆã®ç½®ãå ´æ‰€ã¨å‚ç…§ãƒ«ãƒ¼ãƒ«'],
          ['hiring-agent.md','æ¡ç”¨æ‹…å½“ï¼ˆRecruiterï¼‰'],
          ['requirements-docs-agent.md','è¦ä»¶å®šç¾©åŸ·ç­†æ‹…å½“ï¼ˆKAMUI OS / KAMUI CODEï¼‰']
        ]);
        items.forEach(it => {
          if (!it.title || /^ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ\s*\d+/.test(it.title)) {
            const key = (it.path||'').split('/').pop();
            const alt = nameMap.get(key);
            if (alt) it.title = alt;
          }
        });
        // ãƒ“ãƒ¥ãƒ¼ã‚¢åˆæœŸåŒ–
        function showDoc(id){
          viewer.innerHTML = '';
          items.forEach(it => {
            const card = grid.querySelector(`[data-id="${it.id}"]`);
            card?.classList.toggle('active', it.id === id);
          });
          const target = items.find(it => it.id === id);
          if (target){ viewer.appendChild(target.el); target.el.style.display = 'block'; }
        }
        // ã‚«ãƒ¼ãƒ‰ç”Ÿæˆ
        items.forEach((it, idx) => {
          const card = document.createElement('div');
          card.className = 'card';
          card.setAttribute('data-id', it.id);
          let img = '';
          if (/media-assets-guidelines\.md$/.test(it.path||'')) {
            img = '<video class="card-video" src="/images/agent-female-hero-video.mp4" autoplay loop muted playsinline></video>'+
                  '<span class="card-name">ãƒŸãƒŠ</span>';
          }
          if (/create-new-page\.v2\.md$/.test(it.path||'')) {
            img = '<video class="card-video" src="/images/agent-male-hero-video.mp4" autoplay loop muted playsinline></video>'+
                  '<span class="card-name">æ‹“æµ·</span>';
          }
          if (/requirements-docs-agent\.md$/.test(it.path||'')) {
            img = '<video class="card-video" src="/videos/agent_card_video_square.mp4" autoplay loop muted playsinline></video>'+
                  '<span class="card-name">ã‚¨ãƒŸãƒªãƒ¼</span>';
          }
          if (/hiring-agent\.md$/.test(it.path||'')) {
            img = '<video class="card-video" src="/videos/recruiter_card_video_square.mp4" poster="/images/agent_card.png" autoplay loop muted playsinline></video>'+
                  '<span class="card-name">ã‚µãƒ©</span>';
          }
          card.innerHTML = `<div class="card-title">${it.title}</div>${img}`;
          card.addEventListener('click', () => showDoc(it.id));
          // å³ã‚¯ãƒªãƒƒã‚¯ã§ç›¸å¯¾ãƒ‘ã‚¹ã‚’ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã¸ã‚³ãƒ”ãƒ¼
          card.addEventListener('contextmenu', async (e) => {
            e.preventDefault();
            const p = it.path || '';
            if (!p) return;
            try {
              await navigator.clipboard.writeText(p);
              const t = card.querySelector('.card-title');
              const org = t.textContent;
              t.textContent = 'âœ… ãƒ‘ã‚¹ã‚’ã‚³ãƒ”ãƒ¼ã—ã¾ã—ãŸ';
              setTimeout(()=>{ t.textContent = org; }, 1200);
            } catch(err) {
              console.error('Copy failed', err);
            }
          });
          grid.appendChild(card);
          // ã„ã£ãŸã‚“éš ã—ã¦ãŠãï¼ˆé¸æŠæ™‚ã«viewerã¸ç§»å‹•ï¼‰
          it.el.style.display = 'none';
        });
        // å…ˆé ­ã‚’è¡¨ç¤º
        showDoc(items[0].id);
      })();
    </script>
